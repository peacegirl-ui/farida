-- #CREATE DATABASE.

CREATE DATABASE PROJECT1;
USE PROJECT1;

-- # 1) CREATE COSTOMER TABLE.
CREATE TABLE COSTOMERS (
COSTOMER_ID INT PRIMARY KEY,
NAME VARCHAR(50) NOT NULL,
EMAIL VARCHAR(150) NOT NULL,
ADDRESS VARCHAR (200) NOT NULL
);

-- # 2) INSERT AT LEAST 5 SAMPLE COSTOMERS.
INSERT INTO COSTOMERS ( COSTOMER_ID, NAME , EMAIL, ADDRESS)
VALUES
(1, "ALICE" , "ALICE@GMAIL.COM" , "MUMBAI"),
(2,"PAYAL" , "PAYAL@GMAIL.COM" , "SURAT"),
(3, "EVA" , "EVA@GMAIL.COM" , "DARJELLING"),
(4 ,"PASHMI" , "PASH@GMAIL.COM" , "BHARUCH"),
(5, "TINA" , "TINA@GMAIL.COM" , "MUMBAI" );

-- # 3) RETRIVE ALL COSTOMERS DETAILS
SELECT* FROM COSTOMERS;

-- # 4) UPDATE COSTOMERS ADDRESS.
UPDATE COSTOMERS
SET ADDRESS = "AHEMDABAD"
WHERE COSTOMER_ID=5;

SELECT* FROM COSTOMERS;

-- # 5) DELETE A COSTOMER USING THEIR COSTOMER ID.
DELETE FROM COSTOMERS
WHERE COSTOMER_ID = 2;

SELECT* FROM COSTOMERS;

-- #6) DISPLAY ALL COSTOMERS WHOSE NAME IS ALICE.
SELECT* FROM COSTOMERS
WHERE NAME="ALICE";


 
 -- #2)CREATE ORDER TABLE:-
CREATE TABLE ORDERS (
ORDER_ID INT PRIMARY KEY,
COSTOMER_ID INT NOT NULL,
ORDERDATE DATE NOT NULL,
TOTALAMOUNT INT NOT NULL,
FOREIGN KEY (COSTOMER_ID) REFERENCES COSTOMERS(COSTOMER_ID)
);

-- # 2) INSERT AT LEAST 5 SAMPLE ORDERS.
 INSERT INTO ORDERS (ORDER_ID , COSTOMER_ID , ORDERDATE, TOTALAMOUNT)
 VALUES
 (101,  1,  "2025-01-10" , 2500),
 (102 , 2 , "2025-09-12" , 4000),
 (103 , 3 , "2025-12-15" , 10000),
 (104 , 4 , "2025-02-04" , 2000),
 (105 , 5 , "2025-03-02" , 5000);
 
-- #3)RETRIVE ALL ORDERS
 SELECT* FROM ORDERS;
 
 -- # 4) RETRIVE ALL ORDERS MADE BY A SPECIFIC COSTOMER DETAILS
 SELECT*FROM ORDERS
 WHERE COSTOMER_ID = 1;
 
 
-- # 5) UPDATE AN ORDER TOTAL AMOUNT .
 UPDATE ORDERS 
 SET TOTALAMOUNT = 6000
 WHERE ORDER_ID = 103;
 
SELECT* FROM ORDERS;
  
--   #6)DELETE AN ORDER USING ITS ORDER ID
DELETE FROM ORDERS
WHERE ORDER_ID= 104;
  
SELECT* FROM ORDERS;
   
-- #8) HIGHEST , LOWEST ,& AVERAGE ORDER AMOUNT
 SELECT
 MAX(TOTALAMOUNT) AS HIGHESTAMOUNT,
 MIN(TOTALAMOUNT) AS LOWESTAMOUNT,
 AVG(TOTALAMOUNT) AS AVERAGEAMOUNT
 FROM ORDERS;

- USE PROJECT1
    

  
  -- #3)CREATE PRODUCT TABLE;-
 CREATE TABLE PRODUCTS (
 PRODUCT_ID INT PRIMARY KEY,
 PRODUCT_NAME VARCHAR(250) NOT NULL,
 PRICE INT NOT NULL,
 STOCK INT NOT NULL
);

 -- #1 INSERT AT LEAST 5 SAMPLE PRODUCTS
 INSERT INTO PRODUCTS (PRODUCT_ID , PRODUCT_NAME , PRICE , STOCK)
 Values
    (1,"BAG" , 900 , 10),
    (2, "SHOES" , 5000 , 30),
    (3 , "WATCH" , 7000 , 20),
    (4 , "BRACELET" , 300 , 50),
    (5 , "BANGELS" , 600 , 40);
    
-- #2) RETRIVE ALL PRODUCTS SORTED BY PRICE
SELECT* FROM PRODUCTS
ORDER BY PRICE DESC;

-- #3) UPDATE THE PRICE OF A SPECIFIC PRODUCT
UPDATE PRODUCTS 
SET PRICE= 2000
WHERE PRODUCT_ID = 2;
    
SELECT* FROM PRODUCTS
    
-- # 4) DELETE A PRODUCT IF ITS OUT OF STOCK
DELETE FROM PRODUCTS
WHERE STOCK = 0;

SELECT* FROM PRODUCTS


-- #5) RETRIVE PRODUCTS WITH PRICE BETWEEN 500 AND 2000 
SELECT*FROM PRODUCTS
WHERE PRICE BETWEEN 500 AND 2000;
    
-- #6) RETRIVE MOST EXPANSIVE AND CHEAPEST PRODUCT 
SELECT*FROM PRODUCTS
WHERE PRICE= (SELECT MAX(PRICE) FROM PRODUCTS);

SELECT*FROM PRODUCTS
WHERE PRICE = (SELECT MIN(PRICE)FROM PRODUCTS);
    



-- #4) CREATE ORDER DETAILS TABLE;-
CREATE TABLE ORDERS_DETAILS (
ORDERDETAIL_ID INT PRIMARY KEY,
ORDER_ID INT NOT NULL , 
PRICE INT NOT NULL,
QUANTITY INT NOT NULL,
SUBTOTAL INT NOT NULL
);

SHOW CREATE TABLE ORDERS_DETAILS;


-- #1 INSERT AT LEAST 5 SAMPLE PRODUCTS
INSERT INTO ORDERS_DETAILS ( ORDERDETAIL_ID , ORDER_ID , PRODUCT_ID , QUANTITY , SUBTOTAL)
Values
(1,  101 , 1 , 2, 1400),
(2,  102 , 3 , 1,  2500),
(3 , 103 , 2 , 1 , 1500),
(4 , 104 , 5 , 2 , 3600),
(5 , 105 , 4 , 1 , 700);
    
-- #2) RETRIVE ALL ORDERS DETAILS FROM A SPECIFIC ORDERS
SELECT*FROM ORDERS_DETAILS
WHERE ORDER_ID=101;


-- #3) CALCULATE THE TOTAL REVENUE GENERATE FROM ALL ORDERS
SELECT SUM(SUBTOTAL) AS TOTALREVENUE
FROM ORDERS_DETAILS;

-- #4) COUNT HOW MANY TIMES A SPECIFIC PRODUCT HAS BEEN SOLD
SELECT PRODUCT_ID , COUNT(*) AS TIMES_SOLD FROM ORDERS_DETAILS 
WHERE PRODUCT_ID=1;
